import{useEditor as t}from"@tiptap/react";export*from"@tiptap/react";import e from"@tiptap/extension-blockquote";import n from"@tiptap/extension-bullet-list";import r from"@tiptap/extension-code";import o from"@tiptap/extension-code-block";import i from"@tiptap/extension-document";import a from"@tiptap/extension-gapcursor";import s from"@tiptap/extension-hard-break";import l from"@tiptap/extension-heading";import u from"@tiptap/extension-history";import c from"@tiptap/extension-horizontal-rule";import d from"@tiptap/extension-list-item";import p from"@tiptap/extension-ordered-list";import f from"@tiptap/extension-paragraph";import g from"@tiptap/extension-placeholder";import m from"@tiptap/extension-strike";import h from"@tiptap/extension-text";import{Node as _,combineTransactionSteps as y,getChangedRanges as v,getMarksBetween as b,findChildrenInRange as k,getAttributes as w,Mark as x,mergeAttributes as L,markPasteRule as A,markInputRule as E}from"@tiptap/core";import{Plugin as S,PluginKey as M}from"@tiptap/pm/state";import T from"@tiptap/suggestion";var O=function(){return O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},O.apply(this,arguments)};function j(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}var C=_.create({name:"figureAudio",group:"block",content:"inline*",draggable:!0,isolating:!0,addAttributes:function(){return{src:{default:null,parseHTML:function(t){var e;return null===(e=t.querySelector("source"))||void 0===e?void 0:e.getAttribute("src")}},title:{default:"",parseHTML:function(t){var e;return null===(e=t.querySelector(".title"))||void 0===e?void 0:e.textContent}},duration:{default:"00:00",parseHTML:function(t){var e,n=t.querySelector(".duration");return null===(e=null==n?void 0:n.dataset)||void 0===e?void 0:e.time}}}},parseHTML:function(){return[{tag:'figure[class="audio"]',contentElement:"figcaption"}]},renderHTML:function(t){var e=t.HTMLAttributes;return["figure",{class:"audio"},["audio",{controls:!0},["source",{src:e.src,type:"audio/mp3",draggable:!1,contenteditable:!1}]],["div",{class:"player"},["header",["div",{class:"meta"},["h4",{class:"title"},e.title],["div",{class:"time"},["span",{class:"current","data-time":"00:00"}],["span",{class:"duration","data-time":e.duration}]]],["span",{class:"play"}]],["footer",["div",{class:"progress-bar"},["span",{}]]]],["figcaption",0]]},addCommands:function(){var t=this;return{setFigureAudio:function(e){var n=e.caption,r=j(e,["caption"]);return function(e){return(0,e.chain)().insertContent({type:t.name,attrs:r,content:n?[{type:"text",text:n}]:[]}).command((function(t){var e=t.tr,n=t.commands,r=e.doc,o=e.selection,i=r.resolve(o.to-2).end();return n.setTextSelection(i)})).run()}}}},addProseMirrorPlugins:function(){return[new S({key:new M("removePastedFigureAudio"),props:{transformPastedHTML:function(t){return t=t.replace(/<figure.*class=.audio.*[\n]*.*?<\/figure>/g,"")}}})]}}),P=_.create({name:"figureEmbed",group:"block",content:"inline*",draggable:!0,isolating:!0,addAttributes:function(){return{class:{default:null,parseHTML:function(t){return t.getAttribute("class")}},src:{default:null,parseHTML:function(t){var e;return null===(e=t.querySelector("iframe"))||void 0===e?void 0:e.getAttribute("src")}}}},parseHTML:function(){return[{tag:'figure[class^="embed"]',contentElement:"figcaption"}]},renderHTML:function(t){var e=function(t){var e,n={url:"",allowfullscreen:!1,sandbox:[]};try{e=new URL(t)}catch(t){return n}var r=e.hostname,o=e.pathname,i=e.searchParams;if(["youtube.com","youtu.be","www.youtu.be","www.youtube.com"].includes(r)){var a=i.get("v"),s=i.get("t"),l=new URLSearchParams(O({rel:"0"},s?{start:s}:{})).toString(),u="";return a?u=a:o.match("/embed/")?u=o.split("/embed/")[1]:r.includes("youtu.be")&&(u=o.split("/")[1]),{url:"https://www.youtube.com/embed/".concat(u)+(l?"?=".concat(l):""),provider:"youtube",allowfullscreen:!0,sandbox:[]}}if(["vimeo.com","www.vimeo.com","player.vimeo.com"].includes(r))return u=o.replace(/\/$/,"").split("/").slice(-1)[0],{url:"https://player.vimeo.com/video/".concat(u),provider:"vimeo",allowfullscreen:!0,sandbox:[]};if(["bilibili.com","player.bilibili.com","www.bilibili.com"].includes(r)){return u="",u=i.get("bvid")||o.replace(/\/$/,"").split("/").slice(-1)[0],{url:"https://player.bilibili.com/player.html?bvid=".concat(u),provider:"bilibili",allowfullscreen:!0,sandbox:[]}}if(["instagram.com","www.instagram.com"].includes(r))return u=o.replace("/embed","").replace(/\/$/,"").split("/").slice(-1)[0],{url:"https://www.instagram.com/p/".concat(u,"/embed"),provider:"instagram",allowfullscreen:!1,sandbox:[]};if(["jsfiddle.net","www.jsfiddle.net"].includes(r)){var c=o.replace("/embedded","").replace(/\/$/,"").split("/").filter(Boolean);return u=1===c.length?c[0]:c[1],{url:"https://jsfiddle.net/".concat(u,"/embedded/"),provider:"jsfiddle",allowfullscreen:!1,sandbox:[]}}if(["codepen.io","www.codepen.io"].includes(r)){var d=o.split("/")[1];return u=o.replace(/\/$/,"").split("/").slice(-1)[0],{url:"https://codepen.io/".concat(d,"/embed/preview/").concat(u),provider:"codepen",allowfullscreen:!1,sandbox:[]}}return n}(t.HTMLAttributes.src),n=e.url,r=e.provider,o=e.allowfullscreen,i=e.sandbox;return["figure",O({class:"embed"},r?{"data-provider":r}:{}),["div",{class:"iframe-container"},["iframe",O(O(O({src:n,loading:"lazy"},i&&i.length>0?{sandbox:i.join(" ")}:{}),o?{allowfullscreen:!0}:{}),{frameborder:"0",draggable:!1,contenteditable:!1})]],["figcaption",0]]},addCommands:function(){var t=this;return{setFigureEmbed:function(e){var n=e.caption,r=j(e,["caption"]);return function(e){return(0,e.chain)().insertContent({type:t.name,attrs:r,content:n?[{type:"text",text:n}]:[]}).command((function(t){var e=t.tr,n=t.commands,r=e.doc,o=e.selection,i=r.resolve(o.to-2).end();return n.setTextSelection(i)})).run()}}}},addProseMirrorPlugins:function(){return[new S({key:new M("removePastedFigureEmbed"),props:{transformPastedHTML:function(t){return t=t.replace(/<figure.*class=.embed.*[\n]*.*?<\/figure>/g,"")}}})]}}),H=_.create({name:"figureImage",group:"block",content:"inline*",draggable:!0,isolating:!0,addAttributes:function(){return{class:{default:null,parseHTML:function(t){return t.getAttribute("class")}},src:{default:null,parseHTML:function(t){var e;return null===(e=t.querySelector("img"))||void 0===e?void 0:e.getAttribute("src")}}}},parseHTML:function(){return[{tag:'figure[class="image"]',contentElement:"figcaption"}]},renderHTML:function(t){return["figure",{class:"image"},["img",{src:t.HTMLAttributes.src,draggable:!1,contenteditable:!1}],["figcaption",0]]},addCommands:function(){var t=this;return{setFigureImage:function(e){var n=e.caption,r=j(e,["caption"]);return function(e){return(0,e.chain)().insertContent({type:t.name,attrs:r,content:n?[{type:"text",text:n}]:[]}).command((function(t){var e=t.tr,n=t.commands,r=e.doc,o=e.selection,i=r.resolve(o.to-2).end();return n.setTextSelection(i)})).run()}}}},addProseMirrorPlugins:function(){return[new S({key:new M("removePastedFigureImage"),props:{transformPastedHTML:function(t){return t=t.replace(/<figure.*class=.image.*[\n]*.*?<\/figure>/g,"")}}})]}});const R="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",N="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",z=(t,e)=>{for(const n in e)t[n]=e[n];return t},B="numeric",I="ascii",U="alpha",D="asciinumeric",K="alphanumeric",$="domain",q="emoji",F="scheme",Q="slashscheme",W="whitespace";function Y(t,e){return t in e||(e[t]=[]),e[t]}function G(t,e,n){e[B]&&(e[D]=!0,e[K]=!0),e[I]&&(e[D]=!0,e[U]=!0),e[D]&&(e[K]=!0),e[U]&&(e[K]=!0),e[K]&&(e[$]=!0),e[q]&&(e[$]=!0);for(const r in e){const e=Y(r,n);e.indexOf(t)<0&&e.push(t)}}function J(t){void 0===t&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}J.groups={},J.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let n=0;n<e.jr.length;n++){const r=e.jr[n][0],o=e.jr[n][1];if(o&&r.test(t))return o}return e.jd},has(t,e){return void 0===e&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){let o;return r=r||J.groups,e&&e.j?o=e:(o=new J(e),n&&r&&G(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const i=t.length;if(!i)return o;for(let e=0;e<i-1;e++)o=o.tt(t[e]);return o.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||J.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const i=e;let a,s=o.go(t);if(s?(a=new J,z(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new J,i){if(r)if(a.t&&"string"==typeof a.t){const t=z(function(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}(a.t,r),n);G(i,t,r)}else n&&G(i,n,r);a.t=i}return o.j[t]=a,a}};const X=(t,e,n,r,o)=>t.ta(e,n,r,o),Z=(t,e,n,r,o)=>t.tr(e,n,r,o),V=(t,e,n,r,o)=>t.ts(e,n,r,o),tt=(t,e,n,r,o)=>t.tt(e,n,r,o),et="WORD",nt="UWORD",rt="LOCALHOST",ot="TLD",it="UTLD",at="SCHEME",st="SLASH_SCHEME",lt="NUM",ut="WS",ct="NL",dt="OPENBRACE",pt="OPENBRACKET",ft="OPENANGLEBRACKET",gt="OPENPAREN",mt="CLOSEBRACE",ht="CLOSEBRACKET",_t="CLOSEANGLEBRACKET",yt="CLOSEPAREN",vt="AMPERSAND",bt="APOSTROPHE",kt="ASTERISK",wt="AT",xt="BACKSLASH",Lt="BACKTICK",At="CARET",Et="COLON",St="COMMA",Mt="DOLLAR",Tt="DOT",Ot="EQUALS",jt="EXCLAMATION",Ct="HYPHEN",Pt="PERCENT",Ht="PIPE",Rt="PLUS",Nt="POUND",zt="QUERY",Bt="QUOTE",It="SEMI",Ut="SLASH",Dt="TILDE",Kt="UNDERSCORE",$t="EMOJI",qt="SYM";var Ft=Object.freeze({__proto__:null,WORD:et,UWORD:nt,LOCALHOST:rt,TLD:ot,UTLD:it,SCHEME:at,SLASH_SCHEME:st,NUM:lt,WS:ut,NL:ct,OPENBRACE:dt,OPENBRACKET:pt,OPENANGLEBRACKET:ft,OPENPAREN:gt,CLOSEBRACE:mt,CLOSEBRACKET:ht,CLOSEANGLEBRACKET:_t,CLOSEPAREN:yt,AMPERSAND:vt,APOSTROPHE:bt,ASTERISK:kt,AT:wt,BACKSLASH:xt,BACKTICK:Lt,CARET:At,COLON:Et,COMMA:St,DOLLAR:Mt,DOT:Tt,EQUALS:Ot,EXCLAMATION:jt,HYPHEN:Ct,PERCENT:Pt,PIPE:Ht,PLUS:Rt,POUND:Nt,QUERY:zt,QUOTE:Bt,SEMI:It,SLASH:Ut,TILDE:Dt,UNDERSCORE:Kt,EMOJI:$t,SYM:qt});const Qt=/[a-z]/,Wt=/\p{L}/u,Yt=/\p{Emoji}/u,Gt=/\d/,Jt=/\s/,Xt="\n",Zt="️",Vt="‍";let te=null,ee=null;function ne(t,e,n,r,o){let i;const a=e.length;for(let n=0;n<a-1;n++){const a=e[n];t.j[a]?i=t.j[a]:(i=new J(r),i.jr=o.slice(),t.j[a]=i),t=i}return i=new J(n),i.jr=o.slice(),t.j[e[a-1]]=i,i}function re(t){const e=[],n=[];let r=0;for(;r<t.length;){let o=0;for(;"0123456789".indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));let i=parseInt(t.substring(r,r+o),10);for(;i>0;i--)n.pop();r+=o}else"_"===t[r]?(e.push(n.join("")),r++):(n.push(t[r]),r++)}return e}const oe={defaultProtocol:"http",events:null,format:ae,formatHref:ae,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ie(t,e){void 0===e&&(e=null);let n=z({},oe);t&&(n=z(n,t instanceof ie?t.o:t));const r=n.ignoreTags,o=[];for(let t=0;t<r.length;t++)o.push(r[t].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}function ae(t){return t}function se(t,e){this.t="token",this.v=t,this.tk=e}function le(t,e){class n extends se{constructor(e,n){super(e,n),this.t=t}}for(const t in e)n.prototype[t]=e[t];return n.t=t,n}ie.prototype={o:oe,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=null!=e;let o=this.o[t];return o?("object"==typeof o?(o=n.t in o?o[n.t]:oe[t],"function"==typeof o&&r&&(o=o(e,n))):"function"==typeof o&&r&&(o=o(e,n.t,n)),o):o},getObj(t,e,n){let r=this.o[t];return"function"==typeof r&&null!=e&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},se.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return void 0===t&&(t=oe.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toFormattedHref(t),r=t.get("tagName",n,e),o=this.toFormattedString(t),i={},a=t.get("className",n,e),s=t.get("target",n,e),l=t.get("rel",n,e),u=t.getObj("attributes",n,e),c=t.getObj("events",n,e);return i.href=n,a&&(i.class=a),s&&(i.target=s),l&&(i.rel=l),u&&z(i,u),{tagName:r,attributes:i,content:o,eventListeners:c}}};const ue=le("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ce=le("text"),de=le("nl"),pe=le("url",{isLink:!0,toHref(t){return void 0===t&&(t=oe.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==rt&&t[1].t===Et}}),fe=t=>new J(t);function ge(t,e,n){const r=n[0].s,o=n[n.length-1].e;return new t(e.slice(r,o),n)}const me="undefined"!=typeof console&&console&&console.warn||(()=>{}),he="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ye(t,e){if(void 0===e&&(e=!1),_e.initialized&&me(`linkifyjs: already initialized - will not register custom scheme "${t}" ${he}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error('linkifyjs: incorrect scheme format.\n 1. Must only contain digits, lowercase ASCII letters or "-"\n 2. Cannot start or end with "-"\n 3. "-" cannot repeat');_e.customSchemes.push([t,e])}function ve(){_e.scanner=function(t){void 0===t&&(t=[]);const e={};J.groups=e;const n=new J;null==te&&(te=re(R)),null==ee&&(ee=re(N)),tt(n,"'",bt),tt(n,"{",dt),tt(n,"[",pt),tt(n,"<",ft),tt(n,"(",gt),tt(n,"}",mt),tt(n,"]",ht),tt(n,">",_t),tt(n,")",yt),tt(n,"&",vt),tt(n,"*",kt),tt(n,"@",wt),tt(n,"`",Lt),tt(n,"^",At),tt(n,":",Et),tt(n,",",St),tt(n,"$",Mt),tt(n,".",Tt),tt(n,"=",Ot),tt(n,"!",jt),tt(n,"-",Ct),tt(n,"%",Pt),tt(n,"|",Ht),tt(n,"+",Rt),tt(n,"#",Nt),tt(n,"?",zt),tt(n,'"',Bt),tt(n,"/",Ut),tt(n,";",It),tt(n,"~",Dt),tt(n,"_",Kt),tt(n,"\\",xt);const r=Z(n,Gt,lt,{[B]:!0});Z(r,Gt,r);const o=Z(n,Qt,et,{[I]:!0});Z(o,Qt,o);const i=Z(n,Wt,nt,{[U]:!0});Z(i,Qt),Z(i,Wt,i);const a=Z(n,Jt,ut,{[W]:!0});tt(n,Xt,ct,{[W]:!0}),tt(a,Xt),Z(a,Jt,a);const s=Z(n,Yt,$t,{[q]:!0});Z(s,Yt,s),tt(s,Zt,s);const l=tt(s,Vt);Z(l,Yt,s);const u=[[Qt,o]],c=[[Qt,null],[Wt,i]];for(let t=0;t<te.length;t++)ne(n,te[t],ot,et,u);for(let t=0;t<ee.length;t++)ne(n,ee[t],it,nt,c);G(ot,{tld:!0,ascii:!0},e),G(it,{utld:!0,alpha:!0},e),ne(n,"file",at,et,u),ne(n,"mailto",at,et,u),ne(n,"http",st,et,u),ne(n,"https",st,et,u),ne(n,"ftp",st,et,u),ne(n,"ftps",st,et,u),G(at,{scheme:!0,ascii:!0},e),G(st,{slashscheme:!0,ascii:!0},e),t=t.sort(((t,e)=>t[0]>e[0]?1:-1));for(let e=0;e<t.length;e++){const r=t[e][0],o=t[e][1]?{[F]:!0}:{[Q]:!0};r.indexOf("-")>=0?o[$]=!0:Qt.test(r)?Gt.test(r)?o[D]=!0:o[I]=!0:o[B]=!0,V(n,r,r,o)}return V(n,"localhost",rt,{ascii:!0}),n.jd=new J(qt),{start:n,tokens:z({groups:e},Ft)}}(_e.customSchemes);for(let t=0;t<_e.tokenQueue.length;t++)_e.tokenQueue[t][1]({scanner:_e.scanner});_e.parser=function(t){let{groups:e}=t;const n=e.domain.concat([vt,kt,wt,xt,Lt,At,Mt,Ot,Ct,lt,Pt,Ht,Rt,Nt,Ut,qt,Dt,Kt]),r=[bt,_t,mt,ht,yt,Et,St,Tt,jt,ft,dt,pt,gt,zt,Bt,It],o=[vt,bt,kt,xt,Lt,At,mt,Mt,Ot,Ct,lt,dt,Pt,Ht,Rt,Nt,zt,Ut,qt,Dt,Kt],i=fe(),a=tt(i,Dt);X(a,o,a),X(a,e.domain,a);const s=fe(),l=fe(),u=fe();X(i,e.domain,s),X(i,e.scheme,l),X(i,e.slashscheme,u),X(s,o,a),X(s,e.domain,s);const c=tt(s,wt);tt(a,wt,c),tt(l,wt,c),tt(u,wt,c);const d=tt(a,Tt);X(d,o,a),X(d,e.domain,a);const p=fe();X(c,e.domain,p),X(p,e.domain,p);const f=tt(p,Tt);X(f,e.domain,p);const g=fe(ue);X(f,e.tld,g),X(f,e.utld,g),tt(c,rt,g);const m=tt(p,Ct);X(m,e.domain,p),X(g,e.domain,p),tt(g,Tt,f),tt(g,Ct,m);const h=tt(g,Et);X(h,e.numeric,ue);const _=tt(s,Ct),y=tt(s,Tt);X(_,e.domain,s),X(y,o,a),X(y,e.domain,s);const v=fe(pe);X(y,e.tld,v),X(y,e.utld,v),X(v,e.domain,s),X(v,o,a),tt(v,Tt,y),tt(v,Ct,_),tt(v,wt,c);const b=tt(v,Et),k=fe(pe);X(b,e.numeric,k);const w=fe(pe),x=fe();X(w,n,w),X(w,r,x),X(x,n,w),X(x,r,x),tt(v,Ut,w),tt(k,Ut,w);const L=tt(l,Et),A=tt(u,Et),E=tt(A,Ut);tt(E,Ut,L),X(l,e.domain,s),tt(l,Tt,y),tt(l,Ct,_),X(u,e.domain,s),tt(u,Tt,y),tt(u,Ct,_),X(L,e.domain,w),tt(L,Ut,w);const S=tt(w,dt),M=tt(w,pt),T=tt(w,ft),O=tt(w,gt);tt(x,dt,S),tt(x,pt,M),tt(x,ft,T),tt(x,gt,O),tt(S,mt,w),tt(M,ht,w),tt(T,_t,w),tt(O,yt,w),tt(S,mt,w);const j=fe(pe),C=fe(pe),P=fe(pe),H=fe(pe);X(S,n,j),X(M,n,C),X(T,n,P),X(O,n,H);const R=fe(),N=fe(),z=fe(),B=fe();return X(S,r),X(M,r),X(T,r),X(O,r),X(j,n,j),X(C,n,C),X(P,n,P),X(H,n,H),X(j,r,j),X(C,r,C),X(P,r,P),X(H,r,H),X(R,n,R),X(N,n,C),X(z,n,P),X(B,n,H),X(R,r,R),X(N,r,N),X(z,r,z),X(B,r,B),tt(C,ht,w),tt(P,_t,w),tt(H,yt,w),tt(j,mt,w),tt(N,ht,w),tt(z,_t,w),tt(B,yt,w),tt(R,yt,w),tt(i,rt,v),tt(i,ct,de),{start:i,tokens:Ft}}(_e.scanner.tokens);for(let t=0;t<_e.pluginQueue.length;t++)_e.pluginQueue[t][1]({scanner:_e.scanner,parser:_e.parser});_e.initialized=!0}function be(t){return _e.initialized||ve(),function(t,e,n){let r=n.length,o=0,i=[],a=[];for(;o<r;){let s=t,l=null,u=null,c=0,d=null,p=-1;for(;o<r&&!(l=s.go(n[o].t));)a.push(n[o++]);for(;o<r&&(u=l||s.go(n[o].t));)l=null,s=u,s.accepts()?(p=0,d=s):p>=0&&p++,o++,c++;if(p<0)o-=c,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(ge(ce,e,a)),a=[]),o-=p,c-=p;const t=d.t,r=n.slice(o-c,o);i.push(ge(t,e,r))}}return a.length>0&&i.push(ge(ce,e,a)),i}(_e.parser.start,t,function(t,e){const n=function(t){const e=[],n=t.length;let r=0;for(;r<n;){let o,i=t.charCodeAt(r),a=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}(e.replace(/[A-Z]/g,(t=>t.toLowerCase()))),r=n.length,o=[];let i=0,a=0;for(;a<r;){let s=t,l=null,u=0,c=null,d=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,p=0,c=s):d>=0&&(d+=n[a].length,p++),u+=n[a].length,i+=n[a].length,a++;i-=d,a-=p,u-=d,o.push({t:c.t,v:e.slice(i-u,i),s:i-u,e:i})}return o}(_e.scanner.start,t))}function ke(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),e&&"object"==typeof e){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new ie(n),o=be(t),i=[];for(let t=0;t<o.length;t++){const n=o[t];!n.isLink||e&&n.t!==e||i.push(n.toFormattedObject(r))}return i}function we(t,e){void 0===e&&(e=null);const n=be(t);return 1===n.length&&n[0].isLink&&(!e||n[0].t===e)}function xe(t){return new S({key:new M("autolink"),appendTransaction:function(e,n,r){var o=e.some((function(t){return t.docChanged}))&&!n.doc.eq(r.doc),i=e.some((function(t){return t.getMeta("preventAutolink")}));if(o&&!i){var a=r.tr,s=y(n.doc,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([],e,!0)),l=s.mapping;if(v(s).forEach((function(e){var o=e.oldRange,i=e.newRange;b(o.from,o.to,n.doc).filter((function(e){return e.mark.type===t.type})).forEach((function(e){var o=l.map(e.from),i=l.map(e.to),s=b(o,i,r.doc).filter((function(e){return e.mark.type===t.type}));if(s.length){var u=s[0],c=n.doc.textBetween(e.from,e.to,void 0," "),d=r.doc.textBetween(u.from,u.to,void 0," "),p=we(c),f=we(d);p&&!f&&a.removeMark(u.from,u.to,t.type)}}));var s,u,c=k(r.doc,i,(function(t){return t.isTextblock}));if(c.length>1?(s=c[0],u=r.doc.textBetween(s.pos,s.pos+s.node.nodeSize,void 0," ")):c.length&&r.doc.textBetween(i.from,i.to," "," ").endsWith(" ")&&(s=c[0],u=r.doc.textBetween(s.pos,i.to,void 0," ")),s&&u){var d=u.split(" ").filter((function(t){return""!==t}));if(d.length<=0)return!1;var p=d[d.length-1],f=s.pos+u.lastIndexOf(p);if(!p)return!1;ke(p).filter((function(t){return t.isLink})).filter((function(e){return!t.validate||t.validate(e.value)})).map((function(t){return O(O({},t),{from:f+t.start+1,to:f+t.end+1})})).forEach((function(e){a.addMark(e.from,e.to,t.type.create({href:e.href}))}))}})),a.steps.length)return a}}})}var Le=x.create({name:"link",keepOnSplit:!1,onCreate:function(){this.options.protocols.forEach((function(t){"string"!=typeof t?ye(t.scheme,t.optionalSlashes):ye(t)}))},onDestroy:function(){J.groups={},_e.scanner=null,_e.parser=null,_e.tokenQueue=[],_e.pluginQueue=[],_e.customSchemes=[],_e.initialized=!1},inclusive:function(){return this.options.autolink},addOptions:function(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes:function(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML:function(){return[{tag:'a[href]:not([href *= "javascript:" i]):not([class="mention"])'}]},renderHTML:function(t){var e=t.HTMLAttributes;return["a",L(this.options.HTMLAttributes,e),0]},addCommands:function(){var t=this;return{setLink:function(e){return function(n){return(0,n.chain)().setMark(t.name,e).setMeta("preventAutolink",!0).run()}},toggleLink:function(e){return function(n){return(0,n.chain)().toggleMark(t.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},unsetLink:function(){return function(e){return(0,e.chain)().unsetMark(t.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}}}},addPasteRules:function(){var t=this;return[A({find:function(e){return ke(e).filter((function(e){return!t.options.validate||t.options.validate(e.value)})).filter((function(t){return t.isLink})).map((function(t){return{text:t.value,index:t.start,data:t}}))},type:this.type,getAttributes:function(t){var e;return{href:null===(e=t.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins:function(){var t,e=[];return this.options.autolink&&e.push(xe({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push((t={type:this.type},new S({key:new M("handleClickLink"),props:{handleClick:function(e,n,r){var o,i,a;if(1!==r.button)return!1;var s=w(e.state,t.type.name),l=null===(o=r.target)||void 0===o?void 0:o.closest("a"),u=null!==(i=null==l?void 0:l.href)&&void 0!==i?i:s.href,c=null!==(a=null==l?void 0:l.target)&&void 0!==a?a:s.target;return!(!l||!u||(window.open(u,c),0))}}}))),this.options.linkOnPaste&&e.push(function(t){return new S({key:new M("handlePasteLink"),props:{handlePaste:function(e,n,r){if(e.state.selection.empty)return!1;var o="";r.content.forEach((function(t){o+=t.textContent}));var i=ke(o).find((function(t){return t.isLink&&t.value===o}));return!(!o||!i||(t.editor.commands.setMark(t.type,{href:i.href}),0))}}})}({editor:this.editor,type:this.type})),e}}),Ae=new M("mention"),Ee=_.create({name:"mention",group:"inline",inline:!0,selectable:!1,atom:!0,addOptions:function(){var t=this;return{suggestion:{char:"@",allowedPrefixes:null,pluginKey:Ae,command:function(e){var n,r,o,i=e.editor,a=e.range,s=e.props,l=i.view.state.selection,u=l.$from,c=l.$to,d=1===u.parentOffset,p=c.nodeBefore,f=c.nodeAfter,g=null===(n=null==p?void 0:p.text)||void 0===n?void 0:n.startsWith(" "),m=null===(r=null==f?void 0:f.text)||void 0===r?void 0:r.startsWith(" "),h=[];d||g||h.push({type:"text",text:" "}),h.push({type:t.name,attrs:s}),m||h.push({type:"text",text:" "}),i.chain().focus().insertContentAt(a,h).run(),null===(o=window.getSelection())||void 0===o||o.collapseToEnd()},allow:function(e){var n=e.state,r=e.range,o=n.doc.resolve(r.from),i=n.schema.nodes[t.name];return!!o.parent.type.contentMatch.matchType(i)}}}},addAttributes:function(){return{id:{default:null,parseHTML:function(t){return t.getAttribute("data-id")}},userName:{default:null,parseHTML:function(t){return t.getAttribute("data-user-name")}},displayName:{default:null,parseHTML:function(t){return t.getAttribute("data-display-name")}}}},parseHTML:function(){return[{tag:'a[class="mention"]'}]},renderHTML:function(t){var e,n=t.node;return["a",{class:"mention",href:"/"+this.options.suggestion.char+n.attrs.userName,"data-id":n.attrs.id,"data-user-name":n.attrs.userName,"data-display-name":n.attrs.displayName,ref:"noopener noreferrer nofollow"},["span","@".concat(null!==(e=n.attrs.displayName)&&void 0!==e?e:n.attrs.userName)]]},addKeyboardShortcuts:function(){var t=this;return{Backspace:function(){return t.editor.commands.command((function(e){var n=e.tr,r=e.state,o=!1,i=r.selection,a=i.empty,s=i.anchor;return!!a&&(r.doc.nodesBetween(s-1,s,(function(e,r){if(e.type.name===t.name)return o=!0,n.insertText(t.options.suggestion.char||"",r,r+e.nodeSize),!1})),o)}))}}},addProseMirrorPlugins:function(){return[T(O({editor:this.editor},this.options.suggestion))]}}),Se=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Me=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Te=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Oe=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,je=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Ce=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Pe=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,He=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Re=x.create({name:"bold",addOptions:function(){return{HTMLAttributes:{}}},parseHTML:function(){return[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}},{tag:"em"},{tag:"i",getAttrs:function(t){return"normal"!==t.style.fontStyle&&null}},{style:"font-style=italic"},{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:function(t){return!!t.includes("underline")&&{}}}]},renderHTML:function(t){var e=t.HTMLAttributes;return["strong",L(this.options.HTMLAttributes,e),0]},addCommands:function(){var t=this;return{setBold:function(){return function(e){return e.commands.setMark(t.name)}},toggleBold:function(){return function(e){return e.commands.toggleMark(t.name)}},unsetBold:function(){return function(e){return e.commands.unsetMark(t.name)}}}},addKeyboardShortcuts:function(){var t=this;return{"Mod-b":function(){return t.editor.commands.toggleBold()},"Mod-B":function(){return t.editor.commands.toggleBold()},"Mod-i":function(){return t.editor.commands.toggleBold()},"Mod-I":function(){return t.editor.commands.toggleBold()},"Mod-u":function(){return t.editor.commands.toggleBold()},"Mod-U":function(){return t.editor.commands.toggleBold()}}},addInputRules:function(){return[E({find:je,type:this.type}),E({find:Pe,type:this.type}),E({find:Se,type:this.type}),E({find:Te,type:this.type})]},addPasteRules:function(){return[A({find:Ce,type:this.type}),A({find:He,type:this.type}),A({find:Me,type:this.type}),A({find:Oe,type:this.type})]}}),Ne=function(t){var _=t.placeholder,y=t.mentionSuggestion;return[i,u,a,g.configure({placeholder:_}),h,f,l.configure({levels:[2,3]}),Re,m,r,o,e,s,c,p,d,n,Le,H,C,P,Ee.configure({suggestion:y})]},ze=function(e){var n=e.content,r=e.placeholder,o=e.mentionSuggestion,i=j(e,["content","placeholder","mentionSuggestion"]);return t(O({extensions:Ne({placeholder:r,mentionSuggestion:o}),content:n},i))},Be=function(t){var a=t.placeholder,l=t.mentionSuggestion;return[i,u,g.configure({placeholder:a}),h,f,Re,m,r,o,e,s,c,d,p,n,Le,Ee.configure({suggestion:l})]},Ie=function(e){var n=e.content,r=e.placeholder,o=e.mentionSuggestion,i=j(e,["content","placeholder","mentionSuggestion"]);return t(O({extensions:Be({placeholder:r,mentionSuggestion:o}),content:n},i))};export{Ne as makeArticleEditorExtensions,Be as makeCommentEditorExtensions,ze as useArticleEdtor,Ie as useCommentEditor};
//# sourceMappingURL=index.esm.js.map
